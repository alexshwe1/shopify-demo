<product-recommendations
  class="related-products page-width section-{{ section.id }}-padding"
  data-url="{{ routes.product_recommendations_url }}?section_id={{ section.id }}&product_id={{ product.id }}&limit=4&intent=complementary"
>
  {%- if recommendations.performed? and recommendations.products_count > 0 -%}
    <h1>{{ section.settings.text }}</h1>
    <ul
      class="grid product-grid grid--{{ section.settings.columns_desktop }}-col-desktop grid--{{ section.settings.columns_mobile }}-col-tablet-down"
      role="list"
    >
      {% for recommendation in recommendations.products %}
        <li class="grid__item">
          {% render 'card-product',
            card_product: recommendation,
            media_aspect_ratio: section.settings.image_ratio,
            image_shape: section.settings.image_shape,
            show_secondary_image: section.settings.show_secondary_image,
            show_vendor: section.settings.show_vendor,
            show_rating: section.settings.show_rating
          %}
        </li>
      {% endfor %}
    </ul>
  {%- endif -%}
</product-recommendations>

{% schema %}
{
  "name": "Goes well with section",
  "settings": [
    {
      "type": "text",
      "id": "text",
      "label": "Section Title"
    }
  ],
  "presets": [
    {
      "name": "Goes well with section"
    }
  ],
  "tag": "header",
  "class": "goes-well-with",
  "limit": 1
}
{% endschema %}
